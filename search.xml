<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>RPG Game开发日志(一)</title>
    <url>/2020/10/11/RPG-Dev-Log-1/</url>
    <content><![CDATA[<p>涉及内容：简单场景创建；鼠标跟随贴花制作；动画蓝图制作；移动操控绑定等。</p>
<a id="more"></a>

<h2 id="简单场景创建"><a href="#简单场景创建" class="headerlink" title="简单场景创建"></a>简单场景创建</h2><ol>
<li>清理默认物体，如Floor、Capsule等;</li>
<li>添加Box Brush，Transform&gt;Location=(0,0,0)，Brush Settings &gt; X=5000,Y=5000,Z=800;</li>
<li>快捷键ALT复制一个，Transform&gt;Location(0,0,50)，Brush Settings &gt; X=4800,Y=4800,Z=700, Brush Type=Subtractive;</li>
<li>利用Geometry Editing创建几个测试平台、楼梯等；</li>
<li>添加StarterContent初学者内容包，为场景物体添加材质。</li>
<li>保存场景为Training至RPG_Game&gt;Maps。</li>
</ol>
<img src="https://img-blog.csdnimg.cn/20201011122013690.png">

<h2 id="鼠标跟随贴花制作"><a href="#鼠标跟随贴花制作" class="headerlink" title="鼠标跟随贴花制作"></a>鼠标跟随贴花制作</h2><ol>
<li>图标来源：<a href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a>  </li>
<li>添加Goal图标至RPG_Game&gt;Textures；</li>
<li>创建材质球M_GoalDecal，设置Material Domain=Deferred Decal，Blend Mode=Translucent，Decal Blend Mode = Emissive；</li>
<li>设置Material蓝图参数；<img src='https://img-blog.csdnimg.cn/20201011123828721.png'></li>
<li>创建材质实例Inst_GoalDecal，Sets the preview mesh to a plane primitive，修改公开变量Color和EmissiveValue(高光度)；</li>
<li>以上M_GoalDecal、Inst_GoalDecal添加至RPG_Game&gt;Materials；</li>
<li>创建Actor BP_GoalDecal至RPG_Game&gt;Actors，添加Decal组件和Box collision，在Event Graph 内添加Begin Overlap(Box)事件。<img src='https://img-blog.csdnimg.cn/20201011124835193.png'></li>
</ol>
<h2 id="动画蓝图制作"><a href="#动画蓝图制作" class="headerlink" title="动画蓝图制作"></a>动画蓝图制作</h2><ol>
<li>骨骼网格体、动画来源：虚幻商城[虚幻争霸：心菲]</li>
<li>以下将会用到Skeletal Mesh (Shinbi)，Animation Sequence (Shibi_Fwd、Shibi_Idle);</li>
<li>创建一维混合空间Shibi_BlendSpace1D，Horizontal Axis 命名为 Speed，区间设置为[0,400],0出添加Idle,400出添加Fwd;</li>
<li>创建动画蓝图ABP_Shibi至RPG_Game&gt;Characters&gt;Animations，新建状态机:Entry-&gt;Idle_Move,新建变量:Speed,设置动画蓝图如下；<img src='https://img-blog.csdnimg.cn/20201011130431251.png'></li>
<li>进入Event Graph,设置动画蓝图事件如下。<img src='https://img-blog.csdnimg.cn/20201011130521861.png'></li>
</ol>
<h2 id="移动操控绑定"><a href="#移动操控绑定" class="headerlink" title="移动操控绑定"></a>移动操控绑定</h2><ol>
<li>创建Character BP_RPG_Character至RPG_Game&gt;Blueprints，并创建子类Char_Shibi;</li>
<li>打开Char_Shibi,添加SpringArm和Camera(依附于SpringArm)，设置SpringArm Rotation=(0,-45,0),Target Arm Length=650;</li>
<li>创建RPG_PlayerController至RPG_Game&gt;Blueprints；</li>
<li>创建RPG_Game_Mode至RPG_Game&gt;Blueprints,设置Player Controller Class为RPG_PlayerController,Default Pawn Class为Char_Shibi;</li>
<li>打开项目设置，设置Default GameMode 为RPG_GameMode,Default Maps为Training,添加轴映射MoveForward(W/S)、MoveRight(A/D)、LookUp(Mouse Y)、Turn(Mouse X);</li>
<li>打开RPG_PlayerController,创建函数CancelMovementCommand,用于处理角色移动状态时销毁鼠标贴花；<img src='https://img-blog.csdnimg.cn/20201011132117897.png'></li>
<li>Shibi Object获取；<img src='https://img-blog.csdnimg.cn/20201011132352696.png'></li>
<li>鼠标贴花生成；<img src='https://img-blog.csdnimg.cn/20201011132417698.png'></li>
<li>移动转向控制。<img src='https://img-blog.csdnimg.cn/20201011133109943.png'><img src='https://img-blog.csdnimg.cn/20201011133157497.png' ><img src='https://img-blog.csdnimg.cn/20201011133223590.png'><img src='https://img-blog.csdnimg.cn/2020101113325827.png'><img src='https://img-blog.csdnimg.cn/20201011133327798.png'></li>
</ol>
]]></content>
      <categories>
        <category>Logs</category>
      </categories>
      <tags>
        <tag>UE_4.22</tag>
      </tags>
  </entry>
</search>
